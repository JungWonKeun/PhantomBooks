<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="phantom.books.finalProject.admin.mapper.FaqMapper">

	

	<select id="countFaqList" resultType="_int">
		SELECT
		 COUNT(*)
		FROM "FAQ"
		<choose>
			<when test="key == 'all'">
				
			</when>
			<when test="key == 'Y'">
				WHERE FAQ_YN = ${key}
			</when>
			<when test="key == 'N'">
				WHERE FAQ_YN = ${key}
			</when>
		</choose>
	</select>
	
<select id="faqList" resultType="FAQ">
	SELECT
		*
	FROM "FAQ"
	<choose>
			<when test="key == 'all'">
				
			</when>
			<when test="key == 'Y'">
				WHERE FAQ_YN = ${key}
			</when>
			<when test="key == 'N'">
				WHERE FAQ_YN = ${key}
			</when>
	</choose> 
	ORDER BY FAQ_ID DESC
</select>

	<delete id="deleteMember">
		DELETE 
		FROM "MEMBER"
		WHERE MEMBER_NO = #{memberNo}
	</delete>


	<!-- 6개월 이상 로그인 안 한 회원 조회 -->
	<select id="countInactiveMember" resultType="_int">
	    SELECT
	        COUNT(*)
	    FROM "MEMBER"
	    WHERE MONTHS_BETWEEN(CURRENT_DATE, LOGIN_DATE) >= 6
	</select>


</mapper>

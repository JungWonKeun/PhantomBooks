<style>
  /* ë‹¤í¬ëª¨ë“œ ìŠ¤íƒ€ì¼ */
  .dark-mode {
    background-color: #1e1e1e !important; /* ê¸°ë³¸ ë°°ê²½ìƒ‰ */
    color: #ffffff !important; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  .dark-mode * {
    background-color: transparent !important; /* ëª¨ë“  ìš”ì†Œì˜ íˆ¬ëª…í•œ ë°°ê²½ */
    color: #ffffff !important; /* ëª¨ë“  í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  /* ë§í¬ ìŠ¤íƒ€ì¼ */
  .dark-mode a {
    color: #90caf9 !important; /* ë§í¬ ìƒ‰ìƒ */
  }

  .dark-mode a:hover {
    color: #42a5f5 !important; /* ë§í¬ í˜¸ë²„ ìƒ‰ìƒ */
  }

  /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
  .dark-mode table {
    background-color: #2e2e2e !important; /* í…Œì´ë¸” ë°°ê²½ */
    border-color: #424242 !important; /* í…Œì´ë¸” ê²½ê³„ */
  }

  .dark-mode th,
  .dark-mode td {
    background-color: #2e2e2e !important; /* ì…€ ë°°ê²½ */
    color: #ffffff !important; /* ì…€ í…ìŠ¤íŠ¸ */
    border-color: #424242 !important; /* ì…€ ê²½ê³„ */
  }

  /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  .dark-mode button {
    background-color: #424242 !important; /* ë²„íŠ¼ ë°°ê²½ìƒ‰ */
    color: #ffffff !important; /* ë²„íŠ¼ í…ìŠ¤íŠ¸ */
    border: 1px solid #616161 !important; /* ë²„íŠ¼ í…Œë‘ë¦¬ */
  }

  .dark-mode button:hover {
    background-color: #616161 !important; /* ë²„íŠ¼ í˜¸ë²„ ë°°ê²½ìƒ‰ */
    color: #ffffff !important; /* ë²„íŠ¼ í˜¸ë²„ í…ìŠ¤íŠ¸ */
  }

  /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
  .dark-mode input,
  .dark-mode textarea,
  .dark-mode select {
    background-color: #2e2e2e !important; /* ì…ë ¥ í•„ë“œ ë°°ê²½ìƒ‰ */
    color: #ffffff !important; /* ì…ë ¥ í•„ë“œ í…ìŠ¤íŠ¸ */
    border: 1px solid #424242 !important; /* ì…ë ¥ í•„ë“œ í…Œë‘ë¦¬ */
  }

  .dark-mode input::placeholder,
  .dark-mode textarea::placeholder {
    color: #aaaaaa !important; /* ì…ë ¥ í•„ë“œ í”Œë ˆì´ìŠ¤í™€ë” */
  }

  /* ë¼ë²¨ ìŠ¤íƒ€ì¼ */
  .dark-mode label {
    color: #ffffff !important; /* ë¼ë²¨ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    font-weight: bold; /* ë¼ë²¨ ê¸€ì ë‘ê»˜ */
    background-color: transparent !important;
  }

  /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
  .dark-mode .card {
    background-color: #2e2e2e !important; /* ì¹´ë“œ ë°°ê²½ìƒ‰ */
    color: #ffffff !important; /* ì¹´ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  /* í…Œë‘ë¦¬ ê°•ì¡° */
  .dark-mode .border {
    border-color: #424242 !important;
  }

  /* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ */
  .dark-mode .dropdown-menu {
    background-color: #2e2e2e !important;
    color: #ffffff !important;
  }

  /* ëª¨ë‹¬ */
  .dark-mode .modal-content {
    background-color: #2e2e2e !important;
    color: #ffffff !important;
  }


  .btn-bd-primary {
    --bd-violet-bg: #712cf9 !important;
    ;
    --bd-violet-rgb: 112.520718, 44.062154, 249.437846 !important;
    ;

    --bs-btn-font-weight: 600 !important;
    --bs-btn-color: var(--bs-white) !important;
    --bs-btn-bg: var(--bd-violet-bg) !important;
    --bs-btn-border-color: var(--bd-violet-bg) !important;
    --bs-btn-hover-color: var(--bs-white) !important;
    --bs-btn-hover-bg: #6528e0 !important;
    --bs-btn-hover-border-color: #6528e0 !important;
    --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb) !important;
    --bs-btn-active-color: var(--bs-btn-hover-color) !important;
    --bs-btn-active-bg: #5a23c8 !important;
    --bs-btn-active-border-color: #5a23c8 !important;
  }

  .bd-mode-toggle {
    z-index: 1500;
  }

  .bd-mode-toggle .dropdown-menu .active .bi {
    display: block !important;
  }

  .dark-mode #darkModeToggle {
    background-color: #1e1e1e !important;
    color: #ffffff !important;
  }
</style>

<!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
<div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3">
  <button id="darkModeToggle" class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" type="button"
    aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme">
    <svg class="bi my-1 theme-icon-active" width="1em" height="1em"></svg>
    <span id="darkModeButtonText"></span>
  </button>
</div>

<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="circle-half" viewBox="0 0 16 16">
    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
  </symbol>
</svg>

<!-- ë‹¤í¬ëª¨ë“œ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('darkModeToggle');
    const buttonText = document.getElementById('darkModeButtonText');
    const body = document.body;

    // ë‹¤í¬ëª¨ë“œ ìƒíƒœ ì €ì¥ ë° ë¡œë“œ í•¨ìˆ˜
    const setDarkMode = (isDark) => {
      if (isDark) {
        body.classList.add('dark-mode');
        localStorage.setItem('darkMode', 'true');
      } else {
        body.classList.remove('dark-mode');
        localStorage.setItem('darkMode', 'false');
      }
      updateButtonStyles();
    };

    // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    const updateButtonStyles = () => {
      if (body.classList.contains('dark-mode')) {
        buttonText.textContent = 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ';
        toggleButton.style.backgroundColor = '#1e1e1e';
        toggleButton.style.color = '#ffffff';
      } else {
        buttonText.textContent = 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ';
        toggleButton.style.backgroundColor = '';
        toggleButton.style.color = '';
      }
    };

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë‹¤í¬ëª¨ë“œ ìƒíƒœ ë¡œë“œ
    const isDarkMode = localStorage.getItem('darkMode') === 'true';
    setDarkMode(isDarkMode);

    // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    toggleButton.addEventListener('click', () => {
      const isDark = body.classList.contains('dark-mode');
      setDarkMode(!isDark);
    });
  });
</script>

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>모든 책 조회 페이지</title>
  <link rel="stylesheet" href="/css/searchBookPage/allBook.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
  <header th:replace="~{common/common}"></header>
  <main>
    <!-- 모달 버튼 -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#selectionModal">카테고리 선택</button>

<!-- 모달 구조 -->
<div class="modal fade" id="selectionModal" tabindex="-1" aria-labelledby="selectionModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="selectionModalLabel">카테고리 선택</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="category-list">
          <!-- 카테고리 항목 리스트 -->
          <button type="button" class="btn btn-outline-primary m-1 category-item">카테고리 1</button>
          <button type="button" class="btn btn-outline-primary m-1 category-item">카테고리 2</button>
          <!-- 추가적인 카테고리 버튼들 -->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 선택된 항목 배지 리스트 -->
<div id="badgeContainer" class="mt-3"></div>

    <form action="/addCheckedBooks" method="post" id="bookForm">

 <div class="search-result-container">
      <div class="search-result">
        <p>검색결과 (<span th:text="${allBook.size()}">0</span>건)</p>
      </div>
     
      <div class="check-toGo">
        <label class="allCheck">
          <button type="button" onclick="ifChecked('all')">전체선택</button>
        </label>
        <label class="check-bagButton">
          <button type="button" onclick="ifChecked('cart')">장바구니</button
            ></label>
        <label class="check-wishListButton">
          <button type="button" onclick="ifChecked('wishlist')">찜</button>
        </label>
      </div>
 </div>


 
        <div th:each="book : ${allBook}" class="book-item">
          <div>
            <input type="checkbox" th:name="${book.bookNo}" class="book-checkbox" id="bookCheckbox">
          </div>
          <a th:href="@{/searchBookPage/bookDetail/{bookNo}(bookNo=${book.bookNo})}">
            <div class="book-item-image">
              <img th:src="${book.bookCover != null ? book.bookCover : '/images/bookCover/default.jpg'}" alt="책 이미지">
            </div>
            <div class="book-item-details">
              <div class="book-item-info">
                <p><strong>제목:</strong> <span th:text="${book.bookTitle}">책 제목</span></p>
                <p><strong>지은이:</strong> <span th:text="${book.bookWriter}">지은이</span></p>
                <p><strong>출판사:</strong> <span th:text="${book.companyName}">출판사</span></p>
                <p><strong>옮긴이:</strong> <span th:text="${book.bookTalt}">옮긴이</span></p>
                <p><strong>가격:</strong> <span th:text="${book.bookPrice}">0</span>원</p>
                <p><strong>출간일:</strong> <span th:text="${book.bookDate.substring(0, 10)}">출간일</span></p>
              </div>
            </div>
          </a>
          <div class="book-item-actions">
            <label class="buttonBag" onclick="addToCart()"><button>장바구니</button></label>
            <label class="buttonWish"><button onclick="addToWishList()">찜</button></label>
            <label class="buttonBuy"><button onclick="buyNow()">바로구매</button></label>
          </div>
  </div>
</form>
  </main>
  <footer th:replace="~{common/footer :: footer}"></footer>
  <script src="/js/searchBookPage/allBook.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>

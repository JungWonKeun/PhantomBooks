<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>관리자 정보 수정</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/admin/adminMyPage.css">
  
</head>
<body>
  <section class="header">
    <div class="logo">
      <a href="/admin">
          <img src="/images/고스트 코딩왕.png" alt="Logo">
      </a>
    </div>
  
   
    <div class="function">
      <!-- 알림 영역 -->
      <div class="notification-container">
       
         <!-- 알림 버튼 -->
        <button class="notification-btn" id="my-element">
          <i class="fa-regular fa-bell">.</i>
          <!-- 알림 개수 표시 -->
          <div class="notification-count-area"></div>
        </button>
        
        <!-- 알림 목록 -->
        <ul class="notification-list">
          
        </ul>
        
      </div>
      
      <!-- 관리자 담당 업무 -->
      <div class="adminName" th:if= "${session.loginMember}">
        <div th:text="${session.loginMember.adminName}">
          담당
        </div>
      </div>
  
      <!-- 채팅방 입장 아이콘 -->
      <div class="chatting">
        채팅방
      </div>
    </div>

  </section>


  <section class="content-box">
    <div class="sideBar">
        <h3 class="menu">
          <i class="fa-solid fa-users"></i>&nbsp;&nbsp;사용자 관련 관리
          <ul class="submenu">
            <li><a href="/admin/myPage">&nbsp;&nbsp;&nbsp;-&nbsp;내정보 변경</a></li>
            <li><a href="/admin">&nbsp;&nbsp;&nbsp;-&nbsp;회원 관리</a></li>
            <li>
              <a href="/admin/adminManager" 
                th:if= "${session.loginMember.name == '관리자' }">&nbsp;&nbsp;&nbsp;-&nbsp;관리자 계정 관리</a>
            </li>
          </ul>
        </h3>
      
        <h3 class="menu">
          <i class="fa-solid fa-arrow-trend-up"></i>&nbsp;&nbsp;매출 및 일정 관리
          <ul class="submenu">
            <li><a href="/admin/sales">&nbsp;&nbsp;&nbsp;-&nbsp;매출 관리</a></li>
            <li><a href="/admin/schedule">&nbsp;&nbsp;&nbsp;-&nbsp;일정 관리</a></li>
          </ul>
        </h3>
        
        <h3 class="menu">
          <i class="fa-solid fa-warehouse"></i>&nbsp;&nbsp;도서 관리
          <ul class="submenu">
            <li><a href="/admin/manager">&nbsp;&nbsp;&nbsp;-&nbsp;재고 관리</a></li>
            <li><a href="/admin/request">&nbsp;&nbsp;&nbsp;-&nbsp;발주 요청</a></li>
            <li><a href="/admin/newBook">&nbsp;&nbsp;&nbsp;-&nbsp;새 책 등록</a></li>
          </ul>
        </h3>
        <h3 class="menu">
          <i class="fa-solid fa-question"></i>&nbsp;&nbsp;고객 지원
          <ul class="submenu">
            <li><a href="/admin/query">&nbsp;&nbsp;&nbsp;-&nbsp;문의 관리</a></li>
            <li><a href="/admin/review">&nbsp;&nbsp;&nbsp;-&nbsp;리뷰 관리</a></li>
            <li><a href="/admin/faq">&nbsp;&nbsp;&nbsp;-&nbsp;FAQ 관리</a></li>
            <li><a href="/admin/notice">&nbsp;&nbsp;&nbsp;-&nbsp;공지사항 관리</a></li>
          </ul>
        </h3>
      </div>
  
  
    <div class="content">
      <h2>내 정보 변경</h2>
      
      <form action="/admin/adminManager/updateAdmin" method="POST" name="inputAdmin" id="info-box" class="info-box needs-validation mx-auto mt-4" style="width: 60%;" novalidate>
        <div>
          <!-- 비밀번호 입력, 요청사항 -->
          <div>
            <label for="memberPw">비밀번호</label>
            <input type="password" class="form-control" id="memberPw" name="memberPw" placeholder="" maxlength="12" autocomplete="off" required>
            <span id="pwMessage">비밀번호를 입력해주세요.</span>
          </div>
  
          <!-- 비밀번호 확인 입력 -->
          <div>
            <label for="pwCheck">비밀번호 확인</label>
            <input type="password" class="form-control" id="pwCheck" name="pwCheck" placeholder="" maxlength="12" autocomplete="off" required>
          </div>
  
          <div>
            <label for="adminName">이름(담당업무)</label>
            <input type="text" class="form-control" id="adminName" name="adminName" placeholder="" maxlength="6" autocomplete="off" required>
            <div class="invalid-feedback">이름을 입력해주세요.</div>
          </div>
  
          <div>
            <label for="adimnEmail">이메일</label>
            <input type="text" class="form-control" id="adminEmail" name="adminEmail" placeholder="" autocomplete="off" required>
            <span id="emailMessage">이메일을 입력해주세요.</span>

          </div>
    
          <button id="updateBtn">변경하기</button>
        </div>
      </form>
    </div>
  </section>

  

<script src="/js/admin/adminMyPage.js"></script>

<script th:inline="javaScript">
  const email = /*[[${session.loginMember.adminEmail}]]*/ "세션에 담긴 로그인한 관리자 이메일";
  const name = /*[[${session.loginMember.adminName}]]*/ "세션에 담긴 로그인한 관리자 이름";
  
  const adminName = document.querySelector("#adminName");
  adminName.value = name;

  const adminEmail = document.querySelector("#adminEmail");
  adminEmail.value = email;
</script>
</body>
</html>